const _0x436e8e=_0x135a;(function(_0xba2dc8,_0x1586b2){const _0xf1e7a4=_0x135a,_0x9fc010=_0xba2dc8();while(!![]){try{const _0x15b9c7=parseInt(_0xf1e7a4(0x214))/0x1+parseInt(_0xf1e7a4(0x207))/0x2+-parseInt(_0xf1e7a4(0x1e1))/0x3+-parseInt(_0xf1e7a4(0x242))/0x4*(-parseInt(_0xf1e7a4(0x290))/0x5)+parseInt(_0xf1e7a4(0x1cf))/0x6*(parseInt(_0xf1e7a4(0x23c))/0x7)+-parseInt(_0xf1e7a4(0x245))/0x8*(parseInt(_0xf1e7a4(0x297))/0x9)+parseInt(_0xf1e7a4(0x21c))/0xa*(-parseInt(_0xf1e7a4(0x248))/0xb);if(_0x15b9c7===_0x1586b2)break;else _0x9fc010['push'](_0x9fc010['shift']());}catch(_0x335c0e){_0x9fc010['push'](_0x9fc010['shift']());}}}(_0x3466,0xb025c));const express=require(_0x436e8e(0x271)),app=express(),axios=require(_0x436e8e(0x266)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x436e8e(0x28f)),exec=promisify(require(_0x436e8e(0x1f5))[_0x436e8e(0x227)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x436e8e(0x232)]||'',PROJECT_URL=process['env'][_0x436e8e(0x24a)]||'',AUTO_ACCESS=process[_0x436e8e(0x28d)][_0x436e8e(0x233)]||![],FILE_PATH=process['env']['FILE_PATH']||'./tmp',SUB_PATH=process[_0x436e8e(0x28d)][_0x436e8e(0x1f9)]||_0x436e8e(0x23f),PORT=process[_0x436e8e(0x28d)]['SERVER_PORT']||process[_0x436e8e(0x28d)][_0x436e8e(0x260)]||0xbb8,UUID=process[_0x436e8e(0x28d)][_0x436e8e(0x1f1)]||_0x436e8e(0x26f),NEZHA_SERVER=process['env'][_0x436e8e(0x283)]||'',NEZHA_PORT=process[_0x436e8e(0x28d)][_0x436e8e(0x1ed)]||'',NEZHA_KEY=process[_0x436e8e(0x28d)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x436e8e(0x28d)][_0x436e8e(0x1d6)]||'',ARGO_AUTH=process[_0x436e8e(0x28d)][_0x436e8e(0x1e0)]||'',ARGO_PORT=process[_0x436e8e(0x28d)]['ARGO_PORT']||0x1f41,CFIP=process[_0x436e8e(0x28d)][_0x436e8e(0x244)]||_0x436e8e(0x202),CFPORT=process[_0x436e8e(0x28d)][_0x436e8e(0x278)]||0x1bb,NAME=process[_0x436e8e(0x28d)]['NAME']||'';!fs[_0x436e8e(0x1ea)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x436e8e(0x269))):console[_0x436e8e(0x206)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x533cdb=_0x436e8e,_0x9e58fb=_0x533cdb(0x228);let _0x20fbd2='';for(let _0x24da0a=0x0;_0x24da0a<0x6;_0x24da0a++){_0x20fbd2+=_0x9e58fb[_0x533cdb(0x216)](Math[_0x533cdb(0x22f)](Math[_0x533cdb(0x243)]()*_0x9e58fb['length']));}return _0x20fbd2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x436e8e(0x281)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x436e8e(0x281)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x436e8e(0x281)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x436e8e(0x1d4)),bootLogPath=path['join'](FILE_PATH,_0x436e8e(0x1d9)),configPath=path['join'](FILE_PATH,_0x436e8e(0x24d));function deleteNodes(){const _0x35ee20=_0x436e8e;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3f3823;try{_0x3f3823=fs[_0x35ee20(0x24c)](subPath,_0x35ee20(0x284));}catch{return null;}const _0x1ed327=Buffer[_0x35ee20(0x1e5)](_0x3f3823,_0x35ee20(0x279))[_0x35ee20(0x28a)](_0x35ee20(0x284)),_0xf1691d=_0x1ed327[_0x35ee20(0x20e)]('\x0a')['filter'](_0x2da918=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2da918));if(_0xf1691d[_0x35ee20(0x259)]===0x0)return;return axios['post'](UPLOAD_URL+_0x35ee20(0x1e2),JSON[_0x35ee20(0x285)]({'nodes':_0xf1691d}),{'headers':{'Content-Type':_0x35ee20(0x25d)}})[_0x35ee20(0x1e7)](_0x3f1fc2=>{return null;}),null;}catch(_0x3cdcdd){return null;}}function cleanupOldFiles(){const _0x55c364=_0x436e8e;try{const _0x58bc31=fs[_0x55c364(0x26c)](FILE_PATH);_0x58bc31[_0x55c364(0x27d)](_0xae8721=>{const _0x1ffea7=_0x55c364,_0x242e6b=path['join'](FILE_PATH,_0xae8721);try{const _0x4fcd04=fs[_0x1ffea7(0x1e9)](_0x242e6b);_0x4fcd04[_0x1ffea7(0x1f0)]()&&fs[_0x1ffea7(0x246)](_0x242e6b);}catch(_0x36503b){}});}catch(_0x13a374){}}app[_0x436e8e(0x252)]('/',function(_0x13ec19,_0x9dc1a7){const _0x214c43=_0x436e8e;_0x9dc1a7[_0x214c43(0x238)](_0x214c43(0x26d));});async function generateConfig(){const _0xc48791=_0x436e8e,_0x3a92d9={'log':{'access':'/dev/null','error':_0xc48791(0x255),'loglevel':_0xc48791(0x1d5)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0xc48791(0x22c)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0xc48791(0x25b),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0xc48791(0x1d2),'dest':0xbbc}]},'streamSettings':{'network':_0xc48791(0x291)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0xc48791(0x1d5)},'streamSettings':{'network':'tcp','security':_0xc48791(0x1d5)}},{'port':0xbba,'listen':_0xc48791(0x203),'protocol':_0xc48791(0x1eb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xc48791(0x1d5)},'streamSettings':{'network':'ws','security':_0xc48791(0x1d5),'wsSettings':{'path':_0xc48791(0x25b)}},'sniffing':{'enabled':!![],'destOverride':[_0xc48791(0x22b),_0xc48791(0x1f4),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xc48791(0x203),'protocol':_0xc48791(0x1da),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xc48791(0x268)}},'sniffing':{'enabled':!![],'destOverride':[_0xc48791(0x22b),'tls',_0xc48791(0x25c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xc48791(0x203),'protocol':_0xc48791(0x218),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xc48791(0x1d5),'wsSettings':{'path':_0xc48791(0x1d2)}},'sniffing':{'enabled':!![],'destOverride':[_0xc48791(0x22b),_0xc48791(0x1f4),_0xc48791(0x25c)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0xc48791(0x21e),'tag':_0xc48791(0x288)},{'protocol':_0xc48791(0x222),'tag':_0xc48791(0x1fa)}]};fs[_0xc48791(0x26b)](path[_0xc48791(0x281)](FILE_PATH,_0xc48791(0x24d)),JSON[_0xc48791(0x285)](_0x3a92d9,null,0x2));}function getSystemArchitecture(){const _0x228408=_0x436e8e,_0x2d1cdf=os[_0x228408(0x239)]();return _0x2d1cdf==='arm'||_0x2d1cdf===_0x228408(0x27f)||_0x2d1cdf==='aarch64'?_0x228408(0x236):_0x228408(0x215);}function downloadFile(_0x14288e,_0x5c8793,_0x558241){const _0x52ee70=_0x436e8e,_0x35aefc=_0x14288e;!fs[_0x52ee70(0x1ea)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x408232=fs[_0x52ee70(0x275)](_0x35aefc);axios({'method':_0x52ee70(0x252),'url':_0x5c8793,'responseType':_0x52ee70(0x208)})['then'](_0x447ec3=>{const _0x3fc237=_0x52ee70;_0x447ec3[_0x3fc237(0x223)][_0x3fc237(0x28c)](_0x408232),_0x408232['on'](_0x3fc237(0x256),()=>{const _0x429a1e=_0x3fc237;_0x408232[_0x429a1e(0x201)](),console[_0x429a1e(0x206)]('Download\x20'+path['basename'](_0x35aefc)+'\x20successfully'),_0x558241(null,_0x35aefc);}),_0x408232['on'](_0x3fc237(0x220),_0x8709c5=>{const _0x1c4c13=_0x3fc237;fs[_0x1c4c13(0x225)](_0x35aefc,()=>{});const _0x477d75='Download\x20'+path[_0x1c4c13(0x286)](_0x35aefc)+_0x1c4c13(0x217)+_0x8709c5[_0x1c4c13(0x1d7)];console['error'](_0x477d75),_0x558241(_0x477d75);});})[_0x52ee70(0x1e7)](_0x49c543=>{const _0x159e90=_0x52ee70,_0x5814b9=_0x159e90(0x234)+path[_0x159e90(0x286)](_0x35aefc)+_0x159e90(0x217)+_0x49c543[_0x159e90(0x1d7)];console[_0x159e90(0x220)](_0x5814b9),_0x558241(_0x5814b9);});}async function downloadFilesAndRun(){const _0x249521=_0x436e8e,_0x7f58f7=getSystemArchitecture(),_0x359393=getFilesForArchitecture(_0x7f58f7);if(_0x359393[_0x249521(0x259)]===0x0){console[_0x249521(0x206)](_0x249521(0x1f6));return;}const _0x578016=_0x359393[_0x249521(0x254)](_0x4294d2=>{return new Promise((_0x1804a6,_0x48e0a9)=>{const _0x108665=_0x135a;downloadFile(_0x4294d2[_0x108665(0x221)],_0x4294d2[_0x108665(0x24e)],(_0x1bb518,_0x536d12)=>{_0x1bb518?_0x48e0a9(_0x1bb518):_0x1804a6(_0x536d12);});});});try{await Promise[_0x249521(0x249)](_0x578016);}catch(_0x44a687){console[_0x249521(0x220)](_0x249521(0x1db),_0x44a687);return;}function _0xf0df9c(_0x1649f0){const _0x156c87=_0x249521,_0x1b4740=0x1fd;_0x1649f0[_0x156c87(0x27d)](_0xed9927=>{const _0x30a227=_0x156c87;fs[_0x30a227(0x1ea)](_0xed9927)&&fs[_0x30a227(0x1e4)](_0xed9927,_0x1b4740,_0x45cd89=>{const _0x2e048b=_0x30a227;_0x45cd89?console[_0x2e048b(0x220)](_0x2e048b(0x1e8)+_0xed9927+':\x20'+_0x45cd89):console[_0x2e048b(0x206)](_0x2e048b(0x20a)+_0xed9927+':\x20'+_0x1b4740['toString'](0x8));});});}const _0x419f9d=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xf0df9c(_0x419f9d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x34bde5=NEZHA_SERVER[_0x249521(0x28b)](':')?NEZHA_SERVER['split'](':')[_0x249521(0x24b)]():'',_0x4a3f0e=new Set([_0x249521(0x21b),_0x249521(0x23b),_0x249521(0x270),'2087','2083',_0x249521(0x1ff)]),_0xfc5f69=_0x4a3f0e[_0x249521(0x251)](_0x34bde5)?_0x249521(0x1ef):'false',_0x59a96b=_0x249521(0x23a)+NEZHA_KEY+_0x249521(0x240)+NEZHA_SERVER+_0x249521(0x1fe)+_0xfc5f69+_0x249521(0x241)+UUID;fs['writeFileSync'](path[_0x249521(0x281)](FILE_PATH,_0x249521(0x287)),_0x59a96b);const _0x1e3f04=_0x249521(0x27b)+phpPath+_0x249521(0x253)+FILE_PATH+_0x249521(0x296);try{await exec(_0x1e3f04),console[_0x249521(0x206)](phpName+_0x249521(0x213)),await new Promise(_0x412168=>setTimeout(_0x412168,0x3e8));}catch(_0x20b67d){console['error'](_0x249521(0x204)+_0x20b67d);}}else{let _0x427f9e='';const _0xc05831=['443','8443',_0x249521(0x270),_0x249521(0x20c),'2083','2053'];_0xc05831[_0x249521(0x28b)](NEZHA_PORT)&&(_0x427f9e=_0x249521(0x210));const _0x4901a2='nohup\x20'+npmPath+_0x249521(0x23e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x249521(0x205)+NEZHA_KEY+'\x20'+_0x427f9e+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4901a2),console[_0x249521(0x206)](npmName+'\x20is\x20running'),await new Promise(_0x2da5f8=>setTimeout(_0x2da5f8,0x3e8));}catch(_0x5a1cf1){console[_0x249521(0x220)](_0x249521(0x21f)+_0x5a1cf1);}}}else console[_0x249521(0x206)](_0x249521(0x294));const _0x3f5464=_0x249521(0x27b)+webPath+_0x249521(0x1f2)+FILE_PATH+_0x249521(0x1fc);try{await exec(_0x3f5464),console[_0x249521(0x206)](webName+_0x249521(0x213)),await new Promise(_0x775e0=>setTimeout(_0x775e0,0x3e8));}catch(_0x382dd7){console[_0x249521(0x220)](_0x249521(0x1e3)+_0x382dd7);}if(fs[_0x249521(0x1ea)](botPath)){let _0x468955;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x468955=_0x249521(0x1f8)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x468955='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x249521(0x1d0):_0x468955='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x249521(0x27b)+botPath+'\x20'+_0x468955+_0x249521(0x231)),console[_0x249521(0x206)](botName+_0x249521(0x213)),await new Promise(_0x41ed17=>setTimeout(_0x41ed17,0x7d0));}catch(_0x3cb381){console[_0x249521(0x220)](_0x249521(0x1dd)+_0x3cb381);}}await new Promise(_0x124ced=>setTimeout(_0x124ced,0x1388));}function getFilesForArchitecture(_0x5988cb){const _0x4e3148=_0x436e8e;let _0x1334ad;_0x5988cb===_0x4e3148(0x236)?_0x1334ad=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x1334ad=[{'fileName':webPath,'fileUrl':_0x4e3148(0x1f3)},{'fileName':botPath,'fileUrl':_0x4e3148(0x212)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x45018e=_0x5988cb===_0x4e3148(0x236)?_0x4e3148(0x280):_0x4e3148(0x219);_0x1334ad[_0x4e3148(0x274)]({'fileName':npmPath,'fileUrl':_0x45018e});}else{const _0x1cd363=_0x5988cb===_0x4e3148(0x236)?_0x4e3148(0x1ee):_0x4e3148(0x265);_0x1334ad[_0x4e3148(0x274)]({'fileName':phpPath,'fileUrl':_0x1cd363});}}return _0x1334ad;}function argoType(){const _0x15c447=_0x436e8e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x15c447(0x206)](_0x15c447(0x20d));return;}if(ARGO_AUTH['includes'](_0x15c447(0x1ec))){fs[_0x15c447(0x26b)](path[_0x15c447(0x281)](FILE_PATH,_0x15c447(0x1d8)),ARGO_AUTH);const _0x2502cb='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x15c447(0x224)+path[_0x15c447(0x281)](FILE_PATH,'tunnel.json')+_0x15c447(0x235)+ARGO_DOMAIN+_0x15c447(0x258)+ARGO_PORT+_0x15c447(0x262);fs['writeFileSync'](path['join'](FILE_PATH,_0x15c447(0x24f)),_0x2502cb);}else console['log'](_0x15c447(0x1dc));}async function extractDomains(){const _0xdff21b=_0x436e8e;let _0x2325e6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2325e6=ARGO_DOMAIN,console[_0xdff21b(0x206)]('ARGO_DOMAIN:',_0x2325e6),await _0x1f174f(_0x2325e6);else try{const _0x2c9fbd=fs['readFileSync'](path[_0xdff21b(0x281)](FILE_PATH,_0xdff21b(0x1d9)),'utf-8'),_0x479b94=_0x2c9fbd[_0xdff21b(0x20e)]('\x0a'),_0x42fe9c=[];_0x479b94['forEach'](_0x20fb47=>{const _0x36de03=_0xdff21b,_0x246e1a=_0x20fb47['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x246e1a){const _0x2436d6=_0x246e1a[0x1];_0x42fe9c[_0x36de03(0x27a)](_0x2436d6);}});if(_0x42fe9c[_0xdff21b(0x259)]>0x0)_0x2325e6=_0x42fe9c[0x0],console['log']('ArgoDomain:',_0x2325e6),await _0x1f174f(_0x2325e6);else{console[_0xdff21b(0x206)](_0xdff21b(0x209)),fs[_0xdff21b(0x246)](path[_0xdff21b(0x281)](FILE_PATH,_0xdff21b(0x1d9)));async function _0x164805(){const _0xcbf1d3=_0xdff21b;try{process[_0xcbf1d3(0x200)]===_0xcbf1d3(0x22e)?await exec(_0xcbf1d3(0x230)+botName+_0xcbf1d3(0x23d)):await exec('pkill\x20-f\x20\x22['+botName[_0xcbf1d3(0x216)](0x0)+']'+botName[_0xcbf1d3(0x263)](0x1)+_0xcbf1d3(0x21a));}catch(_0x5c3c85){}}_0x164805(),await new Promise(_0x189760=>setTimeout(_0x189760,0xbb8));const _0x13093b=_0xdff21b(0x267)+FILE_PATH+_0xdff21b(0x27c)+ARGO_PORT;try{await exec(_0xdff21b(0x27b)+botPath+'\x20'+_0x13093b+'\x20>/dev/null\x202>&1\x20&'),console[_0xdff21b(0x206)](botName+'\x20is\x20running'),await new Promise(_0x4dea6f=>setTimeout(_0x4dea6f,0xbb8)),await extractDomains();}catch(_0xee4fe0){console[_0xdff21b(0x220)](_0xdff21b(0x1dd)+_0xee4fe0);}}}catch(_0x42dbd7){console[_0xdff21b(0x220)](_0xdff21b(0x229),_0x42dbd7);}async function _0x3c8f16(){const _0x306ca1=_0xdff21b;try{const _0x3448e2=await axios[_0x306ca1(0x252)](_0x306ca1(0x1fb),{'timeout':0xbb8});if(_0x3448e2['data']&&_0x3448e2[_0x306ca1(0x223)][_0x306ca1(0x27e)]&&_0x3448e2[_0x306ca1(0x223)][_0x306ca1(0x28e)])return _0x3448e2[_0x306ca1(0x223)][_0x306ca1(0x27e)]+'_'+_0x3448e2[_0x306ca1(0x223)]['org'];}catch(_0x562b9b){try{const _0x3b478b=await axios[_0x306ca1(0x252)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3b478b[_0x306ca1(0x223)]&&_0x3b478b['data'][_0x306ca1(0x25a)]===_0x306ca1(0x1d3)&&_0x3b478b[_0x306ca1(0x223)][_0x306ca1(0x282)]&&_0x3b478b[_0x306ca1(0x223)]['org'])return _0x3b478b['data'][_0x306ca1(0x282)]+'_'+_0x3b478b['data'][_0x306ca1(0x28e)];}catch(_0x7d02df){}}return _0x306ca1(0x276);}async function _0x1f174f(_0x4f0f21){const _0x1b1bd3=await _0x3c8f16(),_0x39d399=NAME?NAME+'-'+_0x1b1bd3:_0x1b1bd3;return new Promise(_0x2423a3=>{setTimeout(()=>{const _0x1e40e7=_0x135a,_0x3805e1={'v':'2','ps':''+_0x39d399,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1e40e7(0x1d5),'host':_0x4f0f21,'path':_0x1e40e7(0x22a),'tls':_0x1e40e7(0x1f4),'sni':_0x4f0f21,'alpn':'','fp':_0x1e40e7(0x1f7)},_0x3aeea0=_0x1e40e7(0x26e)+UUID+'@'+CFIP+':'+CFPORT+_0x1e40e7(0x273)+_0x4f0f21+_0x1e40e7(0x289)+_0x4f0f21+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x39d399+'\x0a\x0avmess://'+Buffer[_0x1e40e7(0x1e5)](JSON[_0x1e40e7(0x285)](_0x3805e1))[_0x1e40e7(0x28a)]('base64')+_0x1e40e7(0x20f)+UUID+'@'+CFIP+':'+CFPORT+_0x1e40e7(0x1df)+_0x4f0f21+_0x1e40e7(0x289)+_0x4f0f21+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x39d399+_0x1e40e7(0x264);console['log'](Buffer[_0x1e40e7(0x1e5)](_0x3aeea0)['toString']('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x3aeea0)[_0x1e40e7(0x28a)]('base64')),console[_0x1e40e7(0x206)](FILE_PATH+_0x1e40e7(0x211)),uploadNodes(),app[_0x1e40e7(0x252)]('/'+SUB_PATH,(_0x558084,_0x52afbc)=>{const _0x54b42a=_0x1e40e7,_0x2fb428=Buffer[_0x54b42a(0x1e5)](_0x3aeea0)[_0x54b42a(0x28a)]('base64');_0x52afbc['set'](_0x54b42a(0x247),_0x54b42a(0x25e)),_0x52afbc[_0x54b42a(0x238)](_0x2fb428);}),_0x2423a3(_0x3aeea0);},0x7d0);});}}function _0x3466(){const _0x4d8af3=['Unhandled\x20error\x20in\x20startserver:','freedom','npm\x20running\x20error:\x20','error','fileName','blackhole','data','\x0a\x20\x20credentials-file:\x20','unlink','rm\x20-rf\x20','exec','abcdefghijklmnopqrstuvwxyz','Error\x20reading\x20boot.log:','/vmess-argo?ed=2560','http','xtls-rprx-vision','Skipping\x20adding\x20automatic\x20access\x20task','win32','floor','taskkill\x20/f\x20/im\x20','\x20>/dev/null\x202>&1\x20&','UPLOAD_URL','AUTO_ACCESS','Download\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arm','listen','send','arch','\x0aclient_secret:\x20','8443','8022wiiIYs','.exe\x20>\x20nul\x202>&1','\x20-s\x20','sub1217','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','294604EAKCeA','random','CFIP','1214152KBIMHu','unlinkSync','Content-Type','33eOABcK','all','PROJECT_URL','pop','readFileSync','config.json','fileUrl','tunnel.yml','https://oooo.serv00.net/add-url','has','get','\x20-c\x20\x22','map','/dev/null','finish','response','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','length','status','/vless-argo','quic','application/json','text/plain;\x20charset=utf-8','\x20>\x20nul\x202>&1','PORT','clear','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','substring','\x0a\x20\x20\x20\x20','https://amd64.ssss.nyc.mn/v1','axios','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/vmess-argo','\x20is\x20created','http\x20server\x20is\x20running\x20on\x20port:','writeFileSync','readdirSync','Hello\x20world!','\x0avless://','e6a2ac39-0e58-43b8-a7e7-11102f23abe0','2096','express','filter','?encryption=none&security=tls&sni=','unshift','createWriteStream','Unknown','Add\x20automatic\x20access\x20task\x20faild:\x20','CFPORT','base64','push','nohup\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','forEach','country_code','arm64','https://arm64.ssss.nyc.mn/agent','join','countryCode','NEZHA_SERVER','utf-8','stringify','basename','config.yaml','direct','&fp=firefox&type=ws&host=','toString','includes','pipe','env','org','util','85MZyIna','tcp','automatic\x20access\x20task\x20added\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20>/dev/null\x202>&1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','72SvNhLO','3684ukTxua','/tunnel.yml\x20run','App\x20is\x20running','/trojan-argo','success','list.txt','none','ARGO_DOMAIN','message','tunnel.json','boot.log','vmess','Error\x20downloading\x20files:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20executing\x20command:\x20','Subscription\x20uploaded\x20successfully','?security=tls&sni=','ARGO_AUTH','277395UqYvVF','/api/delete-nodes','web\x20running\x20error:\x20','chmod','from','Error\x20in\x20startserver:','catch','Empowerment\x20failed\x20for\x20','statSync','existsSync','vless','TunnelSecret','NEZHA_PORT','https://arm64.ssss.nyc.mn/v1','true','isFile','UUID','\x20-c\x20','https://amd64.ssss.nyc.mn/web','tls','child_process','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','firefox','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','SUB_PATH','block','https://ipapi.co/json/','/config.json\x20>/dev/null\x202>&1\x20&','post','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','2053','platform','close','cdns.doon.eu.org','127.0.0.1','php\x20running\x20error:\x20','\x20-p\x20','log','2671396eMBPSn','stream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Empowerment\x20success\x20for\x20','/api/add-subscriptions','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','split','\x0a\x0atrojan://','--tls','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/bot','\x20is\x20running','231917UZirno','amd','charAt','\x20failed:\x20','trojan','https://amd64.ssss.nyc.mn/agent','\x22\x20>\x20/dev/null\x202>&1','443','4984030aBZurz'];_0x3466=function(){return _0x4d8af3;};return _0x3466();}async function uploadNodes(){const _0x1dad2d=_0x436e8e;if(UPLOAD_URL&&PROJECT_URL){const _0xd22a10=PROJECT_URL+'/'+SUB_PATH,_0x4a264b={'subscription':[_0xd22a10]};try{const _0x209791=await axios[_0x1dad2d(0x1fd)](UPLOAD_URL+_0x1dad2d(0x20b),_0x4a264b,{'headers':{'Content-Type':'application/json'}});return _0x209791&&_0x209791[_0x1dad2d(0x25a)]===0xc8?(console[_0x1dad2d(0x206)](_0x1dad2d(0x1de)),_0x209791):null;}catch(_0x5716fe){if(_0x5716fe[_0x1dad2d(0x257)]){if(_0x5716fe['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1dad2d(0x1ea)](listPath))return;const _0x2e3228=fs['readFileSync'](listPath,_0x1dad2d(0x284)),_0x2bdeeb=_0x2e3228[_0x1dad2d(0x20e)]('\x0a')[_0x1dad2d(0x272)](_0x2fa4e6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2fa4e6));if(_0x2bdeeb[_0x1dad2d(0x259)]===0x0)return;const _0x5c930d=JSON[_0x1dad2d(0x285)]({'nodes':_0x2bdeeb});try{const _0x135eb1=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x5c930d,{'headers':{'Content-Type':_0x1dad2d(0x25d)}});return _0x135eb1&&_0x135eb1[_0x1dad2d(0x25a)]===0xc8?(console[_0x1dad2d(0x206)]('Nodes\x20uploaded\x20successfully'),_0x135eb1):null;}catch(_0x1fbfa2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xb044c9=_0x135a,_0xf6ac56=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xf6ac56['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xf6ac56[_0xb044c9(0x27a)](phpPath);process[_0xb044c9(0x200)]===_0xb044c9(0x22e)?exec('del\x20/f\x20/q\x20'+_0xf6ac56[_0xb044c9(0x281)]('\x20')+_0xb044c9(0x25f),_0x1acc2d=>{const _0x27bcb0=_0xb044c9;console[_0x27bcb0(0x261)](),console[_0x27bcb0(0x206)](_0x27bcb0(0x1d1)),console[_0x27bcb0(0x206)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0xb044c9(0x226)+_0xf6ac56['join']('\x20')+_0xb044c9(0x295),_0x5434b1=>{const _0x2a2b93=_0xb044c9;console[_0x2a2b93(0x261)](),console[_0x2a2b93(0x206)](_0x2a2b93(0x1d1)),console[_0x2a2b93(0x206)](_0x2a2b93(0x293));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4efb0e=_0x436e8e;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4efb0e(0x22d));return;}try{const _0x2d3236=await axios[_0x4efb0e(0x1fd)](_0x4efb0e(0x250),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4efb0e(0x25d)}});return console['log'](_0x4efb0e(0x292)),_0x2d3236;}catch(_0x2ca313){return console[_0x4efb0e(0x220)](_0x4efb0e(0x277)+_0x2ca313[_0x4efb0e(0x1d7)]),null;}}function _0x135a(_0x2b466c,_0x4c000c){const _0x346670=_0x3466();return _0x135a=function(_0x135a45,_0x172b51){_0x135a45=_0x135a45-0x1cf;let _0x2c7e28=_0x346670[_0x135a45];return _0x2c7e28;},_0x135a(_0x2b466c,_0x4c000c);}async function startserver(){const _0x38ad41=_0x436e8e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x31d96e){console[_0x38ad41(0x220)](_0x38ad41(0x1e6),_0x31d96e);}}startserver()[_0x436e8e(0x1e7)](_0x281b08=>{const _0x2a6155=_0x436e8e;console['error'](_0x2a6155(0x21d),_0x281b08);}),app[_0x436e8e(0x237)](PORT,()=>console[_0x436e8e(0x206)](_0x436e8e(0x26a)+PORT+'!'));
